<launch>
	<arg name="sim" default="true"/>
	<arg name="paused" default="false"/>
	<arg name="verbose" default="false"/>
	<arg name="model" default="hummingbird"/>
	<arg name="description_type" default="xacro"/>
	<arg name="world_name" default="$(find gazebo_ros)/worlds/empty.world"/>

	<group if="$(eval arg('description_type')=='urdf')">
		<include file="$(find rofous_description)/launch/upload_urdf.launch">
			<arg name="model" value="$(arg model)"/>
		</include>
	</group>

	<group if="$(eval arg('description_type')=='xacro')">
		<include file="$(find rofous_description)/launch/upload_xacro.launch">
			<arg name="model" value="$(arg model)"/>
		</include>
	</group>

	<include file="$(find rofous_controller)/launch/main.launch">
		<arg name="model" value="$(arg model)"/>
	</include>

	<group if="$(arg sim)">
		<include file="$(find rofous_gazebo)/launch/main.launch">
			<arg name="model" value="$(arg model)"/>
			<arg name="world_name" value="$(arg world_name)"/>
			<arg name="paused" value="$(arg paused)"/>
			<arg name="verbose" value="$(arg verbose)"/>
		</include>
	</group>
</launch>